<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Malayalam Unicode ↔ ML-TT Karthika Converter</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { display: flex; gap: 20px; }
        .converter-box { flex: 1; }
        textarea { width: 100%; height: 150px; margin: 10px 0; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h2>Malayalam Unicode ↔ ML-TT Karthika Converter</h2>
    
    <div class="container">
        <div class="converter-box">
            <h3>Unicode to ML-TT Karthika</h3>
            <textarea id="unicodeInput" placeholder="Enter Unicode text here..."></textarea>
            <button onclick="convertToMLTT()">Convert to ML-TT →</button>
        </div>
        
        <div class="converter-box">
            <h3>ML-TT Karthika to Unicode</h3>
            <textarea id="mlttInput" placeholder="Enter ML-TT text here..."></textarea>
            <button onclick="convertToUnicode()">Convert to Unicode →</button>
        </div>
    </div>

<script>
// ML-TT Karthika to Unicode mapping
const mlttToUnicode = {
    'w': 'ം', 'x': 'ഃ', 'A': 'അ', 'B': 'ആ', 'C': 'ഇ',
    'Cu': 'ഈ', 'D': 'ഉ', 'Du': 'ഊ', 'E': 'ഋ', '\\p': 'ഌ',
    'F': 'എ', 'G': 'ഏ', 'sF': 'ഐ', 'H': 'ഒ', 'Hm': 'ഓ',
    'Hu': 'ഔ', 'I': 'ക', 'J': 'ഖ', 'K': 'ഗ', 'L': 'ഘ',
    'M': 'ങ', 'N': 'ച', 'O': 'ഛ', 'P': 'ജ', 'Q': 'ഝ',
    'R': 'ഞ', 'S': 'ട', 'T': 'ഠ', 'U': 'ഡ', 'V': 'ഢ',
    'W': 'ണ', 'X': 'ത', 'Y': 'ഥ', 'Z': 'ദ', '[': 'ധ',
    '\\': 'ന', ']': 'പ', '^': 'ഫ', '_': 'ബ', '`': 'ഭ',
    'a': 'മ', 'b': 'യ', 'c': 'ര', 'd': 'റ', 'e': 'ല',
    'f': 'ള', 'g': 'ഴ', 'h': 'വ', 'i': 'ശ', 'j': 'ഷ',
    'k': 'സ', 'l': 'ഹ', 'm': 'ാ', 'n': 'ി', 'o': 'ീ',
    'p': 'ു', 'q': 'ൂ', 'r': 'ൃ', 's': 'െ', 't': 'േ',
    'ss': 'ൈ', 'sm': 'ൊ', 'tm': 'ോ', 'su': 'ൌ', 'v': '്',
    'u': 'ൗ', '¡': 'ക്ക', '¢': 'ക്ല', '£': 'ക്ഷ', '€': 'ഗ്ഗ',
    '¥': 'ഗ്ല', 'Š': 'ങ്ക', '§': 'ങ്ങ', 'š': 'ച്ച', '©': 'ഞ്ച',
    'ª': 'ഞ്ഞ', '«': 'ട്ട', '¬': 'ണ്‍', '­': 'ണ്ട', '®': 'ണ്ണ',
    '¯': 'ത്ത', '°': 'ത്ഥ', '±': 'ദ്ദ', '²': 'ദ്ധ', '³': 'ന്‍',
    'µ': 'ന്ദ', '¶': 'ന്ന', '·': 'ന്മ', '¹': 'പ്ല', 'º': 'ബ്ബ',
    '»': 'ബ്ല', 'Œ': 'മ്പ', 'œ': 'മ്മ', 'Ÿ': 'മ്ല', '¿': 'യ്യ',
    'À': 'ര്‍', 'Á': 'റ്റ', 'Â': 'ല്‍', 'Ã': 'ല്ല', 'Ä': 'ള്‍',
    'Å': 'ള്ള', 'Æ': 'വ്വ', 'Ç': 'ശ്ല', 'È': 'ശ്ശ', 'É': 'സ്ല',
    'Ê': 'സ്സ', 'Ë': 'ഹ്ല', 'Ì': 'സ്റ്റ', 'Í': 'ഡ്ഡ', 'Î': 'ക്ട',
    'Ï': 'ബ്ധ', 'Ð': 'ബ്ദ', 'Ñ': 'ച്ഛ', 'Ò': 'ഹ്മ', 'Ó': 'ഹ്ന',
    'Ô': 'ന്ധ', 'Õ': 'ത്സ', 'Ö': 'ജ്ജ', '×': 'ണ്മ', 'Ø': 'സ്ഥ',
    'Ù': 'ന്ഥ', 'Ú': 'ജ്ഞ', 'Û': 'ത്ഭ', 'Ü': 'ഗ്മ', 'Ý': 'ശ്ച',
    'Þ': 'ണ്ഡ', 'ß': 'ത്മ', 'à': 'ക്ത', 'á': 'ഗ്ന', 'â': 'ന്റ',
    'ã': 'ഷ്ട', 'ä': 'റ്റ', 'å': 'ന്', 'y': '്യ', 'z': '്വ',
    '{': '്ര', '´': 'ന്ത', '¸': 'പ്പ', '¨': 'ച്ച', '¦': 'ങ്ക',
    '¼': 'മ്പ', '½': 'മ്മ', '¤': 'ഗ്ഗ', 'þ': '-', '∂': 'ന്ന',
    'æ': 'കു', 'ê': 'രു', 'ç': 'ക്കു'
};

// Create inverse mapping
const unicodeToMLTT = {};
Object.entries(mlttToUnicode).forEach(([mltt, unicode]) => {
    unicodeToMLTT[unicode] = mltt;
});

// Convert Unicode to ML-TT Karthika
function convertToMLTT() {
    const input = document.getElementById('unicodeInput').value;
    let output = '';
    
    for (const char of input) {
        output += unicodeToMLTT[char] || char;
    }
    
    document.getElementById('mlttInput').value = output;
}

// Convert ML-TT Karthika to Unicode
function convertToUnicode() {
    const input = document.getElementById('mlttInput').value;
    let output = '';
    let buffer = '';
    
    for (const char of input) {
        buffer += char;
        let found = false;
        
        // Check for multi-character mappings first
        for (let length = 3; length > 0; length--) {
            const key = buffer.slice(-length);
            if (mlttToUnicode[key]) {
                output += mlttToUnicode[key];
                buffer = '';
                found = true;
                break;
            }
        }
        
        if (!found && buffer.length >= 1) {
            output += mlttToUnicode[buffer] || buffer;
            buffer = '';
        }
    }
    
    document.getElementById('unicodeInput').value = output;
}
</script>

</body>
</html>